\mode<presentation>

%\setbeamertemplate{frametitle}
%{\fill[white,opacity=1] (0,0) rectangle(\the\paperwidth,\the\paperheight);}

\DeclareOptionBeamer{titlepage}{\def\beamer@titlepage{#1}}

\setbeamertemplate{title page}{default}{}

% Itemize items, plmce-2016
\setbeamertemplate{items}[circle]

\setbeamertemplate{section in toc}
{\leavevmode{\raise0.5pt\hbox{\textcolor{plmce-2016green}\textbullet}}\inserttocsection\par}

\setbeamertemplate{itemize item}{\raise0.1pt\hbox{\textbullet}}
\setbeamertemplate{itemize subitem}{\raise0.1pt\hbox{\textbullet}}
\setbeamertemplate{itemize subsubitem}[square]

\setbeamertemplate{itemize/enumerate body begin}{\usebeamerfont{itemize item}}
\setbeamertemplate{itemize/enumerate subbody begin}{\usebeamerfont{itemize subitem}}

% Title page
\defbeamertemplate*{title page}{pldublin-2017}[1][]
{
	\begin{textblock*}{\paperwidth}(0.75\paperwidth,0.26\paperheight)
		{\includegraphics[height=0.48\paperheight,keepaspectratio]{logo_dublin_2017.png}}
	\end{textblock*}
	
	\begin{textblock*}{\paperwidth}(0pt,0pt)
	\tikz[remember picture,overlay] {%
		\draw[fill=pldublin-2017green,pldublin-2017green] (0,0) rectangle (0.68\paperwidth,-0.255\paperheight);
		\draw[fill=pldublin-2017darkgreen,pldublin-2017darkgreen] (0.03\paperwidth,-0.27\paperheight) rectangle (0.655\paperwidth,-0.73\paperheight);
		\draw[dotted,white,line width=0.001\paperwidth] (0.03\paperwidth,-0.51\paperheight) -- (0.6\paperwidth,-0.51\paperheight);
		\draw[pldublin-2017orange,line width=0.11cm] (0.03\paperwidth,-0.27\paperheight) -- (0.03\paperwidth,-0.733\paperheight);
		\draw[pldublin-2017orange,line width=0.01\paperwidth] (0.995\paperwidth,-0.265\paperheight) -- (0.995\paperwidth,-0.735\paperheight);
		\draw[fill=pldublin-2017green,pldublin-2017green] (0,-0.745\paperheight) rectangle (0.68\paperwidth,-1\paperheight);
		\draw[fill=pldublin-2017darkgreen,pldublin-2017darkgreen] (0.653\paperwidth,-0.257\paperheight) rectangle (0.681\paperwidth,-0.27\paperheight);
		\draw[fill=pldublin-2017darkgreen,pldublin-2017darkgreen] (0.653\paperwidth,-0.732\paperheight) rectangle (0.681\paperwidth,-0.744\paperheight);
		\draw[fill=pldublin-2017lightgreen,pldublin-2017lightgreen] (0.681\paperwidth,0) rectangle (0.682\paperwidth,-0.27\paperheight);
		\draw[fill=pldublin-2017lightgreen,pldublin-2017lightgreen] (0.681\paperwidth,-0.732\paperheight) rectangle (0.682\paperwidth,-1\paperheight);
		\draw[fill=pldublin-2017lightgreen,pldublin-2017lightgreen] (0.654\paperwidth,-0.268\paperheight) rectangle (0.682\paperwidth,-0.27\paperheight);
		\draw[fill=pldublin-2017lightgreen,pldublin-2017lightgreen] (0.654\paperwidth,-0.732\paperheight) rectangle (0.682\paperwidth,-0.734\paperheight);
		\draw[fill=pldublin-2017lightgreen,pldublin-2017lightgreen] (0.654\paperwidth,-0.268\paperheight) rectangle (0.655\paperwidth,-0.734\paperheight);
	}
	\end{textblock*}
	
	\begin{textblock*}{\paperwidth}(0.034\paperwidth,0.27\paperheight)
		{\includegraphics[width=0.619\paperwidth,keepaspectratio]{top_bar.png}}
	\end{textblock*}
	
	\begin{textblock*}{\paperwidth}(0.034\paperwidth,0.713\paperheight)
		{\includegraphics[width=0.619\paperwidth,keepaspectratio]{bottom_bar.png}}
	\end{textblock*}

	\ifx\insertsubtitle\@empty%
	    \begin{textblock*}{0.65\paperwidth}(0.05\paperwidth,0.39\paperheight)
	            \begin{beamercolorbox}{title page header}
	                    \usebeamerfont{title}\inserttitle\hfill%
	            \end{beamercolorbox}%
	    \end{textblock*}
	\else
		\begin{textblock*}{0.64\paperwidth}(0.05\paperwidth,0.35\paperheight)
			\begin{beamercolorbox}{title page header}
				\usebeamerfont{title}\inserttitle\hfill\\\usebeamerfont{subtitle}\insertsubtitle\hfill%
			\end{beamercolorbox}%
		\end{textblock*}
	\fi

    \begin{textblock*}{0.58\paperwidth}(0.06\paperwidth,0.59\paperheight)
    	\begin{beamercolorbox}{date}
    		\usebeamerfont{date}\insertdate\hfill
    	\end{beamercolorbox}%
        \begin{beamercolorbox}{author}
                \usebeamerfont{author}\insertauthor\hfill\par%
        \end{beamercolorbox}%
    \end{textblock*}
}

\defbeamertemplate*{section page}{pldublin-2017}[1][]
{
    \begin{textblock*}{\paperwidth}(0pt,0pt)
        \tikz[remember picture,overlay] {%
			\draw[fill=pldublin-2017green,pldublin-2017green] (0,0) rectangle (\paperwidth,-0.305\paperheight);
			\draw[fill=pldublin-2017darkgreen,pldublin-2017darkgreen] (0,-0.305\paperheight) rectangle (\paperwidth,-0.775\paperheight);
			\draw[fill=pldublin-2017green,pldublin-2017green] (0,-0.775\paperheight) rectangle (\paperwidth,-1\paperheight);
			\draw[fill=pldublin-2017orange,pldublin-2017orange,line width=0.04\paperwidth] (0,-0.317\paperheight) -- (0,-0.775\paperheight);
			\draw[pldublin-2017orange,line width=0.01\paperwidth] (0.97\paperwidth,-0.317\paperheight) -- (0.97\paperwidth,-0.775\paperheight);
			\draw[dotted,white,line width=0.002\paperwidth] (0.1\paperwidth,-0.62\paperheight) -- (0.92\paperwidth,-0.62\paperheight);
			\draw[pldublin-2017lightgreen,line width=0.001\paperwidth] (0\paperwidth,-0.305\paperheight) -- (\paperwidth,-0.305\paperheight);
			\draw[pldublin-2017lightgreen,line width=0.001\paperwidth] (0.02\paperwidth,-0.317\paperheight) -- (0.965\paperwidth,-0.317\paperheight);
			\draw[pldublin-2017lightgreen,line width=0.001\paperwidth] (0.02\paperwidth,-0.775\paperheight) -- (0.965\paperwidth,-0.775\paperheight);
			\draw[pldublin-2017lightgreen,line width=0.001\paperwidth] (0\paperwidth,-0.79\paperheight) -- (\paperwidth,-0.79\paperheight);
        }
    \end{textblock*}

    \begin{textblock*}{0.87\paperwidth}(0.05\paperwidth,0.51\paperheight)
        \usebeamerfont{section title}\hfill\textcolor{white}{\insertsection}\par
    \end{textblock*}

    \begin{textblock*}{\paperwidth}(0.83\paperwidth,0.84\paperheight)
        {\includegraphics[width=0.14\paperwidth,keepaspectratio]{logo_dublin_white.png}}
    \end{textblock*}

}

%change frame style
%see /usr/share/texmf/tex/latex/beamer/beamerbaseframe.sty for example
\define@key{beamerframe}{c}[true]{% centered
	\beamer@frametopskip=.2\paperheight plus 1fill\relax%
	\beamer@framebottomskip=0.5cm plus 1.5fill\relax%
	\beamer@frametopskipautobreak=0pt plus .4\paperheight\relax%
	\beamer@framebottomskipautobreak=0pt plus .6\paperheight\relax%
	\def\beamer@initfirstlineunskip{}%
}

\mode<all>
